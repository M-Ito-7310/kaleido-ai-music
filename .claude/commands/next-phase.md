---
description: 次のPhaseを自動的に開始します（進捗確認→次Phase判定→実行）
---

# ⏭️ 次のPhase自動開始

現在の進捗状況を確認し、次に実施すべきPhaseを自動的に開始します。

## 実行フロー

### ステップ1: 進捗状況の確認

`docs/ticket/PROGRESS.md` を読み込んで、現在の進捗を確認してください。

### ステップ2: 現在のPhaseステータス分析

PROGRESS.mdから以下を確認：

1. **進行中のPhaseがあるか確認**
   - ステータスが 🟡 進行中 のPhaseを検索

2. **最後に完了したPhaseを特定**
   - ステータスが 🟢 完了 のPhaseを探す
   - 最大のPhase番号を取得

3. **次のPhaseを計算**
   - 最後に完了したPhase番号 + 1

### ステップ3: 前提条件チェック

次のPhaseを開始する前に、以下を確認：

#### ケース1: 進行中のPhaseがある場合

```
⚠️ 警告: Phase X が進行中です

Phase X を完了してから次のPhaseに進んでください。

現在の状況:
- 進行中: Phase X - [タイトル]
- 開始時刻: [PROGRESS.mdから取得]

推奨アクション:
1. Phase X を完了させる
2. その後、再度 `/next-phase` を実行

または、Phase X を継続する場合:
  `/start-phase X`
```

この場合は**実行を中断**し、ユーザーに警告を表示してください。

#### ケース2: すべてのPhaseが完了している場合

```
🎉 おめでとうございます！

全7個のPhaseが完了しました！

✅ 完了したPhase:
- Phase 1: プロジェクトセットアップ
- Phase 2: データベース・API構築
- Phase 3: UI実装
- Phase 4: 検索・フィルター機能
- Phase 5: ダウンロード機能
- Phase 6: モバイル最適化
- Phase 7: 仕上げ・デプロイ

🚀 Kaleido AI Musicの開発が完了しました！

次のステップ:
1. Vercelデプロイの動作確認
2. 本番URLでの最終テスト
3. プロジェクト完了レポート作成
4. README.md更新
```

この場合は**実行を終了**し、完了メッセージを表示してください。

#### ケース3: 次のPhaseがある場合（正常ケース）

次のPhaseを開始できます。ステップ4に進んでください。

### ステップ4: 次のPhase情報の表示

次に開始するPhaseの情報を表示：

```
⏭️ 次のPhase情報

Phase {{next_phase_number}}: [タイトル]

📋 概要:
[チケットから取得した概要]

⏱️ 見積もり時間: X-Y分

📦 主な成果物:
- [成果物1]
- [成果物2]
- ...

📚 関連ドキュメント:
- チケット: docs/ticket/phase-{{next_phase_number_padded}}-*.md
- 実装ドキュメント: docs/implementation/20251023_{{next_phase_number_padded}}-*.md
```

### ステップ5: 確認メッセージ

```
Phase {{next_phase_number}} を開始しますか？

このPhaseでは以下を実装します:
[主なタスクのリスト（上位5個）]

⚠️ 注意事項:
[チケットから取得した注意事項]

自動的に Phase {{next_phase_number}} を開始します...
```

### ステップ6: `/start-phase` コマンドの実行

次のPhaseを自動的に開始します：

**実行コマンド**: `/start-phase {{next_phase_number}}`

以下の処理を実行してください（start-phaseコマンドと同じ内容）:

1. チケットファイル読み込み
2. 実装ドキュメント読み込み
3. チケットステータス更新（🟡 進行中）
4. 実装タスク実行
5. 動作確認
6. チケットステータス更新（🟢 完了）
7. PROGRESS.md更新
8. Gitコミット作成
9. 完了レポート表示

---

## 実行例

### 例1: Phase 2が完了済み、Phase 3を開始

```
📊 進捗確認...

✅ Phase 1: 完了
✅ Phase 2: 完了
⬜ Phase 3: 未着手

⏭️ 次のPhase: Phase 3

Phase 3: UI実装
見積もり時間: 60-90分

Phase 3 を開始します...
[/start-phase 3 の実行内容]
```

### 例2: Phase 4が進行中の場合

```
📊 進捗確認...

✅ Phase 1-3: 完了
🟡 Phase 4: 進行中
⬜ Phase 5-7: 未着手

⚠️ 警告: Phase 4 が進行中です

Phase 4 を完了してから次のPhaseに進んでください。

Phase 4 を継続する場合:
  `/start-phase 4`
```

### 例3: 全Phase完了の場合

```
📊 進捗確認...

✅ Phase 1-7: すべて完了

🎉 おめでとうございます！
全Phaseが完了しました。

Kaleido AI Musicの開発完了です！
```

---

## Phase番号とタイトルの対応表

参照用：

| Phase | タイトル |
|-------|---------|
| 1 | プロジェクトセットアップ |
| 2 | データベース・API構築 |
| 3 | UI実装 |
| 4 | 検索・フィルター機能 |
| 5 | ダウンロード機能 |
| 6 | モバイル最適化 |
| 7 | 仕上げ・デプロイ |

---

## 実行開始

上記の手順に従って、次のPhaseを自動的に開始してください。
