# Phase 6: モバイル最適化

**ステータス**: 🔴 未着手
**担当**: AIエージェント
**見積もり時間**: 1-2日
**実績時間**: -
**依存**: Phase 5
**優先度**: High
**開始日時**: -
**完了日時**: -

## 📋 概要

スマートフォンユーザーを主要ターゲットとして、モバイル体験を最適化します。タッチ操作の改善、レスポンシブデザインの調整、パフォーマンス最適化、モバイル専用UIの実装を行います。

## ✅ タスクチェックリスト

### タッチ操作最適化
- [ ] タッチ領域の拡大(最小44x44px)
  - [ ] ボタン
  - [ ] カードのクリック領域
  - [ ] プレイヤーコントロール
- [ ] スワイプジェスチャー対応(検討)
  - [ ] 音楽カードのスワイプ(オプション)
  - [ ] モーダルの下スワイプで閉じる(オプション)
- [ ] タップ時のビジュアルフィードバック改善
  - [ ] activeスタイル追加
  - [ ] リップルエフェクト(検討)

### レスポンシブデザイン調整
- [ ] ブレークポイント調整
  - [ ] 320px (小型スマホ)
  - [ ] 375px (一般的なスマホ)
  - [ ] 768px (タブレット)
  - [ ] 1024px (デスクトップ)
- [ ] MusicGridのカラム数調整
  - [ ] モバイル: 1カラム
  - [ ] タブレット: 2カラム
  - [ ] デスクトップ: 3-4カラム
- [ ] フォントサイズ調整
  - [ ] モバイルで読みやすいサイズ
  - [ ] タイトル、本文のバランス
- [ ] 余白調整
  - [ ] モバイルでは余白を小さく
  - [ ] タップしやすいスペース確保

### モバイルナビゲーション
- [ ] ハンバーガーメニュー実装
  - [ ] トグルボタン
  - [ ] スライドアウトメニュー
  - [ ] オーバーレイ
  - [ ] アニメーション
- [ ] ボトムナビゲーション検討(オプション)
  - [ ] ホーム
  - [ ] ライブラリ
  - [ ] 検索
- [ ] 固定ヘッダー
  - [ ] スクロール時に固定
  - [ ] 最小限の高さ

### 音楽プレイヤー最適化
- [ ] モバイル専用プレイヤーUI
  - [ ] 大きな再生/一時停止ボタン
  - [ ] 太いシークバー(タッチしやすい)
  - [ ] 現在時刻/総時間を大きく表示
- [ ] プレイヤーの固定配置
  - [ ] 画面下部に固定
  - [ ] コンパクトモード
  - [ ] 展開モード(フルスクリーン)
- [ ] バックグラウンド再生対応(検討)
  - [ ] ブラウザバックグラウンド再生
  - [ ] メディアセッションAPI使用

### パフォーマンス最適化
- [ ] 画像最適化
  - [ ] Next.js Imageコンポーネント使用
  - [ ] 遅延読み込み(Lazy Loading)
  - [ ] WebP形式対応
  - [ ] サムネイルサイズ最適化(モバイル用小サイズ)
- [ ] コード分割
  - [ ] 動的インポート
  - [ ] ルート別コード分割
- [ ] キャッシング戦略
  - [ ] 音楽一覧のキャッシュ
  - [ ] 画像のブラウザキャッシュ
- [ ] バンドルサイズ削減
  - [ ] 不要なライブラリ削除
  - [ ] Tree Shaking確認
  - [ ] 軽量アイコンライブラリ検討

### モバイル専用機能
- [ ] Pull-to-Refresh(検討)
  - [ ] 音楽一覧の更新
- [ ] インストールプロンプト(PWA検討)
  - [ ] manifest.json作成
  - [ ] Service Worker(オプション)
- [ ] オフライン対応(PWA検討、スコープ外)

### タッチデバイステスト
- [ ] iOSデバイステスト
  - [ ] iPhone SE (小型)
  - [ ] iPhone 14 Pro (標準)
- [ ] Androidデバイステスト
  - [ ] Pixel 7
  - [ ] Galaxy S23
- [ ] タブレットテスト
  - [ ] iPad
  - [ ] Android タブレット

## 📦 成果物

- [ ] 最適化されたレスポンシブデザイン(全コンポーネント)
- [ ] モバイル専用ナビゲーション
- [ ] 最適化された音楽プレイヤー
- [ ] パフォーマンス改善(Lighthouse 90+スコア目標)
- [ ] manifest.json (PWA対応、オプション)

## 🔗 関連ドキュメント

- [UIデザイン方針](../../idea/05-ui-design.md)
- [プロジェクト概要](../../idea/01-project-overview.md)

## 🎯 完了条件

- [ ] すべてのページがモバイルで快適に閲覧できる
- [ ] タッチ操作が快適(タップ領域十分、反応速い)
- [ ] 音楽プレイヤーがモバイルで使いやすい
- [ ] 画像読み込みが高速
- [ ] Lighthouseモバイルスコア90以上
- [ ] iOSとAndroidで正常に動作
- [ ] 320px幅でもレイアウト崩れなし

## 🧪 テスト項目

### レスポンシブデザイン
- [ ] 320px幅でレイアウトが正常
- [ ] 375px幅でレイアウトが正常
- [ ] 768px幅でレイアウトが正常
- [ ] 横向き表示で正常に動作

### タッチ操作
- [ ] すべてのボタンが簡単にタップできる
- [ ] 誤タップが発生しない(領域十分)
- [ ] タップ時にビジュアルフィードバックがある
- [ ] スワイプジェスチャーが正常に動作(実装した場合)

### パフォーマンス
- [ ] Lighthouseパフォーマンススコア90以上(モバイル)
- [ ] 初回ページロード3秒以内
- [ ] 画像が遅延読み込みされる
- [ ] ページ遷移が高速

### デバイステスト
- [ ] iPhone SEで正常に動作
- [ ] iPhone 14 Proで正常に動作
- [ ] Androidスマホで正常に動作
- [ ] iPadで正常に動作

### 音楽プレイヤー
- [ ] モバイルでプレイヤーが使いやすい
- [ ] シークバーが簡単に操作できる
- [ ] ボリュームコントロールが簡単に操作できる
- [ ] バックグラウンド再生が動作(実装した場合)

## 📝 メモ・進捗コメント

### 注意事項
- モバイルファースト設計を徹底
- iOSとAndroidで動作確認必須
- 小型スマホ(320px)でも快適に動作
- タッチ操作の快適性を最優先

### 技術的な決定事項
- Tailwindのモバイルファーストアプローチ
- Next.js Imageで画像最適化
- メディアセッションAPIでバックグラウンド再生(検討)
- PWA対応は軽量実装(manifest.jsonのみ)

### パフォーマンス目標
- Lighthouseモバイルスコア: 90以上
- 初回ページロード: 3秒以内
- Time to Interactive: 3.5秒以内
- First Contentful Paint: 1.5秒以内

### デザイン調整
- フォントサイズを16px以上に(読みやすさ)
- タップ領域を最小44x44pxに(タッチしやすさ)
- コントラスト比を4.5:1以上に(アクセシビリティ)

### 次のPhaseへの引き継ぎ
- Phase 7で最終調整とデプロイ
- モバイル最適化はここで完成

---

**Phase 6完了後の状態**: スマートフォンで快適に音楽を楽しめる完璧なモバイル体験が整う
