# Enhancement #009: 楽曲一覧でアーティスト名をタグ表示(最大3件)に変更

**ステータス**: 🟡 進行中
**カテゴリ**: UX
**優先度**: Medium
**担当**: AIエージェント
**作成日**: 2025-10-27
**開始日時**: 2025-10-27 15:30
**完了日**: -

## 🔧 改善概要

楽曲一覧画面において、アーティスト名の表示を廃止し、代わりに各楽曲のタグを最大3件まで表示するようにUIを改善する。

## 🎯 目的・背景

- タグによる楽曲の特徴や雰囲気を一覧画面で視覚的に把握できるようにする
- アーティスト名よりもタグの方がユーザーにとって楽曲選択の参考になる
- 検索・発見体験の向上

## 📊 現状の問題点

- 楽曲一覧でアーティスト名が表示されている
- タグ情報は詳細画面を開かないと確認できない
- 一覧画面での楽曲の特徴把握が困難

## 💡 改善後の期待値

- 一覧画面でタグを確認できることで、楽曲の雰囲気や特徴が把握しやすくなる
- ユーザーが興味のある楽曲を見つけやすくなる
- タグによる視覚的なフィルタリングが可能になる

## 🔧 改善方法

### アプローチ
- 楽曲一覧コンポーネントのUIを変更
- アーティスト名の表示部分をタグ表示に置き換え
- タグは最大3件まで表示し、それ以上ある場合は省略

### 技術的な詳細
- 楽曲一覧コンポーネント(MusicCard または類似コンポーネント)を修正
- タグデータの取得と表示ロジックを実装
- タグの最大表示数を3件に制限
- レスポンシブデザインに対応したタグ表示UI

## ✅ 実装タスク

- [x] 楽曲一覧コンポーネントの特定
- [x] アーティスト名表示部分の削除
- [x] タグ表示UIの実装(最大3件)
- [x] タグデータの取得処理確認
- [x] レスポンシブデザイン対応
- [x] 動作確認とテスト

## 📦 変更対象ファイル

- [x] components/music/MusicCard.tsx - アーティスト名削除、タグ表示追加(74-87行目)

## 🧪 ビフォー・アフター比較

| 指標 | Before | After | 改善内容 |
|------|--------|-------|--------|
| 一覧画面での情報 | アーティスト名 | タグ(最大3件) | 楽曲の特徴が把握しやすい |
| クリック数 | 詳細画面を開く必要あり | 一覧画面で確認可能 | 1クリック削減 |
| ユーザー体験 | 標準 | 向上 | タグによる視覚的フィルタリング |

## 🎯 完了条件

- [ ] アーティスト名が非表示になっている
- [ ] タグが最大3件まで表示されている
- [ ] タグが3件以上ある場合も正しく表示される
- [ ] レスポンシブデザインで正しく表示される
- [ ] 既存機能に影響がないことを確認
- [ ] テストが全てパス

## 🧪 テスト項目

- [ ] 楽曲一覧でタグが表示されることを確認
- [ ] タグが3件以下の場合、全て表示されることを確認
- [ ] タグが3件以上の場合、最大3件のみ表示されることを確認
- [ ] アーティスト名が表示されていないことを確認
- [ ] モバイル・タブレット・デスクトップで正しく表示されることを確認
- [ ] 既存の楽曲一覧機能(再生、お気に入り等)が正常に動作することを確認

## 📝 メモ

チケット作成日: 2025-10-27

### 改善詳細
実施日: 2025-10-27 15:30
実施者: AIエージェント

#### 変更したファイル
- components/music/MusicCard.tsx - アーティスト名表示を削除し、タグ表示に変更

#### 技術的な決定事項
- タグは最大3件まで表示（`slice(0, 3)`）
- タグが存在しない場合は何も表示しない（条件分岐）
- タグのスタイルは既存のカテゴリバッジと統一感のあるプライマリーカラーを使用
- `flex-wrap`でレスポンシブ対応、改行されても自然に表示

#### 改善効果
- 一覧画面でタグを確認できることで、楽曲の特徴が把握しやすくなった
- ユーザーが興味のある楽曲を見つけやすくなった
- クリック数削減（詳細画面を開かずにタグ確認可能）

#### 注意点
- タグデータは既存のスキーマ定義（`tags: json('tags').$type<string[]>()`）を使用

## 🔗 関連

- 関連Issue: -
- 関連PR: -
- 参考資料: -
